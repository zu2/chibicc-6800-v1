#
# copt_O2.rules
#

	jsr __tfr_dx
=
	stab @tmp1+1
	staa @tmp1
	ldx @tmp1

#
# 32bit operation
#
	
	jsr __push32
=
	ldab @long+3
	pshb
	ldab @long+2
	pshb
	ldab @long+1
	pshb
	ldab @long
	pshb

	jsr __load32x
=
	ldab 3,x
	stab @long+3
	ldab 2,x
	stab @long+2
	ldab 1,x
	stab @long+1
	ldab 0,x
	stab @long

%check 0 <= %1 <= 252
	ldab #<%1
	jsr __load32bx
=
	ldab %1+3,x
	stab @long+3
	ldab %1+2,x
	stab @long+2
	ldab %1+1,x
	stab @long+1
	ldab %1+0,x
	stab @long
