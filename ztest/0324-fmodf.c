#include "my_printf.c"
#include <math.h>
#include <stdio.h>
#include <stdlib.h>

#define PI 3.14159265358979323846f
#define EPSILON 1e-6f // Acceptable error margin

// Custom implementation of fmodf
float fmodf_custom(float x, float y) { return x - y * truncf(x / y); }

// Test case struct: holds input, modulus base, and expected value
typedef struct {
  float input;
  float mod_base;
  float expected;
} TestCase;

// Unified test case array (precomputed expected values)
// Dividing the range [-2π, 2π] into fine intervals for both mod_base = PI/4 and
// PI/8
const TestCase tests[] = {
    {-6.28318548f, 0.39269909f, -0.00000000f}, // x=-6.28318548
    {-6.28308535f, 0.39269909f, -0.39259896f}, // x=-6.28308535
    {-6.28328562f, 0.39269909f, -0.00010014f}, // x=-6.28328562
    {-6.28218555f, 0.39269909f, -0.39169917f}, // x=-6.28218555
    {-6.28418541f, 0.39269909f, -0.00099993f}, // x=-6.28418541
    {-6.27318525f, 0.39269909f, -0.38269886f}, // x=-6.27318525
    {-6.29318571f, 0.39269909f, -0.01000023f}, // x=-6.29318571
    {-5.89048624f, 0.39269909f, -0.39269894f}, // x=-5.89048624
    {-5.89038610f, 0.39269909f, -0.39259881f}, // x=-5.89038610
    {-5.89058638f, 0.39269909f, -0.00009999f}, // x=-5.89058638
    {-5.88948631f, 0.39269909f, -0.39169902f}, // x=-5.88948631
    {-5.89148617f, 0.39269909f, -0.00099978f}, // x=-5.89148617
    {-5.88048601f, 0.39269909f, -0.38269871f}, // x=-5.88048601
    {-5.90048647f, 0.39269909f, -0.01000008f}, // x=-5.90048647
    {-5.49778748f, 0.39269909f, -0.00000018f}, // x=-5.49778748
    {-5.49768734f, 0.39269909f, -0.39259914f}, // x=-5.49768734
    {-5.49788761f, 0.39269909f, -0.00010031f}, // x=-5.49788761
    {-5.49678755f, 0.39269909f, -0.39169934f}, // x=-5.49678755
    {-5.49878740f, 0.39269909f, -0.00100011f}, // x=-5.49878740
    {-5.48778725f, 0.39269909f, -0.38269904f}, // x=-5.48778725
    {-5.50778770f, 0.39269909f, -0.01000041f}, // x=-5.50778770
    {-5.10508823f, 0.39269909f, -0.00000003f}, // x=-5.10508823
    {-5.10498810f, 0.39269909f, -0.39259899f}, // x=-5.10498810
    {-5.10518837f, 0.39269909f, -0.00010017f}, // x=-5.10518837
    {-5.10408831f, 0.39269909f, -0.39169919f}, // x=-5.10408831
    {-5.10608816f, 0.39269909f, -0.00099996f}, // x=-5.10608816
    {-5.09508801f, 0.39269909f, -0.38269889f}, // x=-5.09508801
    {-5.11508846f, 0.39269909f, -0.01000026f}, // x=-5.11508846
    {-4.71238899f, 0.39269909f, -0.39269897f}, // x=-4.71238899
    {-4.71228886f, 0.39269909f, -0.39259884f}, // x=-4.71228886
    {-4.71248913f, 0.39269909f, -0.00010002f}, // x=-4.71248913
    {-4.71138906f, 0.39269909f, -0.39169905f}, // x=-4.71138906
    {-4.71338892f, 0.39269909f, -0.00099981f}, // x=-4.71338892
    {-4.70238876f, 0.39269909f, -0.38269874f}, // x=-4.70238876
    {-4.72238922f, 0.39269909f, -0.01000011f}, // x=-4.72238922
    {-4.31969023f, 0.39269909f, -0.00000021f}, // x=-4.31969023
    {-4.31959009f, 0.39269909f, -0.39259917f}, // x=-4.31959009
    {-4.31979036f, 0.39269909f, -0.00010034f}, // x=-4.31979036
    {-4.31869030f, 0.39269909f, -0.39169937f}, // x=-4.31869030
    {-4.32069016f, 0.39269909f, -0.00100014f}, // x=-4.32069016
    {-4.30969000f, 0.39269909f, -0.38269907f}, // x=-4.30969000
    {-4.32969046f, 0.39269909f, -0.01000044f}, // x=-4.32969046
    {-3.92699099f, 0.39269909f, -0.00000006f}, // x=-3.92699099
    {-3.92689109f, 0.39269909f, -0.39259925f}, // x=-3.92689109
    {-3.92709088f, 0.39269909f, -0.00009996f}, // x=-3.92709088
    {-3.92599106f, 0.39269909f, -0.39169922f}, // x=-3.92599106
    {-3.92799091f, 0.39269909f, -0.00099999f}, // x=-3.92799091
    {-3.91699100f, 0.39269909f, -0.38269916f}, // x=-3.91699100
    {-3.93699098f, 0.39269909f, -0.01000005f}, // x=-3.93699098
    {-3.53429174f, 0.39269909f, -0.39269900f}, // x=-3.53429174
    {-3.53419185f, 0.39269909f, -0.39259911f}, // x=-3.53419185
    {-3.53439164f, 0.39269909f, -0.00009981f}, // x=-3.53439164
    {-3.53329182f, 0.39269909f, -0.39169908f}, // x=-3.53329182
    {-3.53529167f, 0.39269909f, -0.00099984f}, // x=-3.53529167
    {-3.52429175f, 0.39269909f, -0.38269901f}, // x=-3.52429175
    {-3.54429173f, 0.39269909f, -0.00999990f}, // x=-3.54429173
    {-3.14159274f, 0.39269909f, -0.00000000f}, // x=-3.14159274
    {-3.14149284f, 0.39269909f, -0.39259920f}, // x=-3.14149284
    {-3.14169264f, 0.39269909f, -0.00009990f}, // x=-3.14169264
    {-3.14059281f, 0.39269909f, -0.39169917f}, // x=-3.14059281
    {-3.14259267f, 0.39269909f, -0.00099993f}, // x=-3.14259267
    {-3.13159275f, 0.39269909f, -0.38269910f}, // x=-3.13159275
    {-3.15159273f, 0.39269909f, -0.00999999f}, // x=-3.15159273
    {-2.74889374f, 0.39269909f, -0.00000009f}, // x=-2.74889374
    {-2.74879384f, 0.39269909f, -0.39259928f}, // x=-2.74879384
    {-2.74899364f, 0.39269909f, -0.00009999f}, // x=-2.74899364
    {-2.74789381f, 0.39269909f, -0.39169925f}, // x=-2.74789381
    {-2.74989367f, 0.39269909f, -0.00100002f}, // x=-2.74989367
    {-2.73889375f, 0.39269909f, -0.38269919f}, // x=-2.73889375
    {-2.75889373f, 0.39269909f, -0.01000008f}, // x=-2.75889373
    {-2.35619450f, 0.39269909f, -0.39269903f}, // x=-2.35619450
    {-2.35609460f, 0.39269909f, -0.39259914f}, // x=-2.35609460
    {-2.35629439f, 0.39269909f, -0.00009984f}, // x=-2.35629439
    {-2.35519457f, 0.39269909f, -0.39169911f}, // x=-2.35519457
    {-2.35719442f, 0.39269909f, -0.00099987f}, // x=-2.35719442
    {-2.34619451f, 0.39269909f, -0.38269904f}, // x=-2.34619451
    {-2.36619449f, 0.39269909f, -0.00999993f}, // x=-2.36619449
    {-1.96349549f, 0.39269909f, -0.00000003f}, // x=-1.96349549
    {-1.96339548f, 0.39269909f, -0.39259911f}, // x=-1.96339548
    {-1.96359551f, 0.39269909f, -0.00010005f}, // x=-1.96359551
    {-1.96249545f, 0.39269909f, -0.39169908f}, // x=-1.96249545
    {-1.96449554f, 0.39269909f, -0.00100008f}, // x=-1.96449554
    {-1.95349550f, 0.39269909f, -0.38269913f}, // x=-1.95349550
    {-1.97349548f, 0.39269909f, -0.01000002f}, // x=-1.97349548
    {-1.57079637f, 0.39269909f, -0.00000000f}, // x=-1.57079637
    {-1.57069635f, 0.39269909f, -0.39259908f}, // x=-1.57069635
    {-1.57089639f, 0.39269909f, -0.00010002f}, // x=-1.57089639
    {-1.56979632f, 0.39269909f, -0.39169905f}, // x=-1.56979632
    {-1.57179642f, 0.39269909f, -0.00100005f}, // x=-1.57179642
    {-1.56079638f, 0.39269909f, -0.38269910f}, // x=-1.56079638
    {-1.58079636f, 0.39269909f, -0.00999999f}, // x=-1.58079636
    {-1.17809725f, 0.39269909f, -0.39269906f}, // x=-1.17809725
    {-1.17799723f, 0.39269909f, -0.39259905f}, // x=-1.17799723
    {-1.17819726f, 0.39269909f, -0.00009999f}, // x=-1.17819726
    {-1.17709720f, 0.39269909f, -0.39169902f}, // x=-1.17709720
    {-1.17909729f, 0.39269909f, -0.00100002f}, // x=-1.17909729
    {-1.16809726f, 0.39269909f, -0.38269907f}, // x=-1.16809726
    {-1.18809724f, 0.39269909f, -0.00999996f}, // x=-1.18809724
    {-0.78539819f, 0.39269909f, -0.00000000f}, // x=-0.78539819
    {-0.78529817f, 0.39269909f, -0.39259908f}, // x=-0.78529817
    {-0.78549820f, 0.39269909f, -0.00010002f}, // x=-0.78549820
    {-0.78439820f, 0.39269909f, -0.39169911f}, // x=-0.78439820
    {-0.78639817f, 0.39269909f, -0.00099999f}, // x=-0.78639817
    {-0.77539819f, 0.39269909f, -0.38269910f}, // x=-0.77539819
    {-0.79539818f, 0.39269909f, -0.00999999f}, // x=-0.79539818
    {-0.39269909f, 0.39269909f, -0.00000000f}, // x=-0.39269909
    {-0.39259911f, 0.39269909f, -0.39259911f}, // x=-0.39259911
    {-0.39279908f, 0.39269909f, -0.00009999f}, // x=-0.39279908
    {-0.39169911f, 0.39269909f, -0.39169911f}, // x=-0.39169911
    {-0.39369908f, 0.39269909f, -0.00099999f}, // x=-0.39369908
    {-0.38269910f, 0.39269909f, -0.38269910f}, // x=-0.38269910
    {-0.40269908f, 0.39269909f, -0.00999999f}, // x=-0.40269908
    {0.00000000f, 0.39269909f, 0.00000000f},   // x=0.00000000
    {0.00010000f, 0.39269909f, 0.00010000f},   // x=0.00010000
    {-0.00010000f, 0.39269909f, -0.00010000f}, // x=-0.00010000
    {0.00100000f, 0.39269909f, 0.00100000f},   // x=0.00100000
    {-0.00100000f, 0.39269909f, -0.00100000f}, // x=-0.00100000
    {0.01000000f, 0.39269909f, 0.01000000f},   // x=0.01000000
    {-0.01000000f, 0.39269909f, -0.01000000f}, // x=-0.01000000
    {0.39269909f, 0.39269909f, 0.00000000f},   // x=0.39269909
    {0.39279908f, 0.39269909f, 0.00009999f},   // x=0.39279908
    {0.39259911f, 0.39269909f, 0.39259911f},   // x=0.39259911
    {0.39369908f, 0.39269909f, 0.00099999f},   // x=0.39369908
    {0.39169911f, 0.39269909f, 0.39169911f},   // x=0.39169911
    {0.40269908f, 0.39269909f, 0.00999999f},   // x=0.40269908
    {0.38269910f, 0.39269909f, 0.38269910f},   // x=0.38269910
    {0.78539819f, 0.39269909f, 0.00000000f},   // x=0.78539819
    {0.78549820f, 0.39269909f, 0.00010002f},   // x=0.78549820
    {0.78529817f, 0.39269909f, 0.39259908f},   // x=0.78529817
    {0.78639817f, 0.39269909f, 0.00099999f},   // x=0.78639817
    {0.78439820f, 0.39269909f, 0.39169911f},   // x=0.78439820
    {0.79539818f, 0.39269909f, 0.00999999f},   // x=0.79539818
    {0.77539819f, 0.39269909f, 0.38269910f},   // x=0.77539819
    {1.17809725f, 0.39269909f, 0.39269906f},   // x=1.17809725
    {1.17819726f, 0.39269909f, 0.00009999f},   // x=1.17819726
    {1.17799723f, 0.39269909f, 0.39259905f},   // x=1.17799723
    {1.17909729f, 0.39269909f, 0.00100002f},   // x=1.17909729
    {1.17709720f, 0.39269909f, 0.39169902f},   // x=1.17709720
    {1.18809724f, 0.39269909f, 0.00999996f},   // x=1.18809724
    {1.16809726f, 0.39269909f, 0.38269907f},   // x=1.16809726
    {1.57079637f, 0.39269909f, 0.00000000f},   // x=1.57079637
    {1.57089639f, 0.39269909f, 0.00010002f},   // x=1.57089639
    {1.57069635f, 0.39269909f, 0.39259908f},   // x=1.57069635
    {1.57179642f, 0.39269909f, 0.00100005f},   // x=1.57179642
    {1.56979632f, 0.39269909f, 0.39169905f},   // x=1.56979632
    {1.58079636f, 0.39269909f, 0.00999999f},   // x=1.58079636
    {1.56079638f, 0.39269909f, 0.38269910f},   // x=1.56079638
    {1.96349549f, 0.39269909f, 0.00000003f},   // x=1.96349549
    {1.96359551f, 0.39269909f, 0.00010005f},   // x=1.96359551
    {1.96339548f, 0.39269909f, 0.39259911f},   // x=1.96339548
    {1.96449554f, 0.39269909f, 0.00100008f},   // x=1.96449554
    {1.96249545f, 0.39269909f, 0.39169908f},   // x=1.96249545
    {1.97349548f, 0.39269909f, 0.01000002f},   // x=1.97349548
    {1.95349550f, 0.39269909f, 0.38269913f},   // x=1.95349550
    {2.35619450f, 0.39269909f, 0.39269903f},   // x=2.35619450
    {2.35629439f, 0.39269909f, 0.00009984f},   // x=2.35629439
    {2.35609460f, 0.39269909f, 0.39259914f},   // x=2.35609460
    {2.35719442f, 0.39269909f, 0.00099987f},   // x=2.35719442
    {2.35519457f, 0.39269909f, 0.39169911f},   // x=2.35519457
    {2.36619449f, 0.39269909f, 0.00999993f},   // x=2.36619449
    {2.34619451f, 0.39269909f, 0.38269904f},   // x=2.34619451
    {2.74889374f, 0.39269909f, 0.00000009f},   // x=2.74889374
    {2.74899364f, 0.39269909f, 0.00009999f},   // x=2.74899364
    {2.74879384f, 0.39269909f, 0.39259928f},   // x=2.74879384
    {2.74989367f, 0.39269909f, 0.00100002f},   // x=2.74989367
    {2.74789381f, 0.39269909f, 0.39169925f},   // x=2.74789381
    {2.75889373f, 0.39269909f, 0.01000008f},   // x=2.75889373
    {2.73889375f, 0.39269909f, 0.38269919f},   // x=2.73889375
    {3.14159274f, 0.39269909f, 0.00000000f},   // x=3.14159274
    {3.14169264f, 0.39269909f, 0.00009990f},   // x=3.14169264
    {3.14149284f, 0.39269909f, 0.39259920f},   // x=3.14149284
    {3.14259267f, 0.39269909f, 0.00099993f},   // x=3.14259267
    {3.14059281f, 0.39269909f, 0.39169917f},   // x=3.14059281
    {3.15159273f, 0.39269909f, 0.00999999f},   // x=3.15159273
    {3.13159275f, 0.39269909f, 0.38269910f},   // x=3.13159275
    {3.53429174f, 0.39269909f, 0.39269900f},   // x=3.53429174
    {3.53439164f, 0.39269909f, 0.00009981f},   // x=3.53439164
    {3.53419185f, 0.39269909f, 0.39259911f},   // x=3.53419185
    {3.53529167f, 0.39269909f, 0.00099984f},   // x=3.53529167
    {3.53329182f, 0.39269909f, 0.39169908f},   // x=3.53329182
    {3.54429173f, 0.39269909f, 0.00999990f},   // x=3.54429173
    {3.52429175f, 0.39269909f, 0.38269901f},   // x=3.52429175
    {3.92699099f, 0.39269909f, 0.00000006f},   // x=3.92699099
    {3.92709088f, 0.39269909f, 0.00009996f},   // x=3.92709088
    {3.92689109f, 0.39269909f, 0.39259925f},   // x=3.92689109
    {3.92799091f, 0.39269909f, 0.00099999f},   // x=3.92799091
    {3.92599106f, 0.39269909f, 0.39169922f},   // x=3.92599106
    {3.93699098f, 0.39269909f, 0.01000005f},   // x=3.93699098
    {3.91699100f, 0.39269909f, 0.38269916f},   // x=3.91699100
    {4.31969023f, 0.39269909f, 0.00000021f},   // x=4.31969023
    {4.31979036f, 0.39269909f, 0.00010034f},   // x=4.31979036
    {4.31959009f, 0.39269909f, 0.39259917f},   // x=4.31959009
    {4.32069016f, 0.39269909f, 0.00100014f},   // x=4.32069016
    {4.31869030f, 0.39269909f, 0.39169937f},   // x=4.31869030
    {4.32969046f, 0.39269909f, 0.01000044f},   // x=4.32969046
    {4.30969000f, 0.39269909f, 0.38269907f},   // x=4.30969000
    {4.71238899f, 0.39269909f, 0.39269897f},   // x=4.71238899
    {4.71248913f, 0.39269909f, 0.00010002f},   // x=4.71248913
    {4.71228886f, 0.39269909f, 0.39259884f},   // x=4.71228886
    {4.71338892f, 0.39269909f, 0.00099981f},   // x=4.71338892
    {4.71138906f, 0.39269909f, 0.39169905f},   // x=4.71138906
    {4.72238922f, 0.39269909f, 0.01000011f},   // x=4.72238922
    {4.70238876f, 0.39269909f, 0.38269874f},   // x=4.70238876
    {5.10508823f, 0.39269909f, 0.00000003f},   // x=5.10508823
    {5.10518837f, 0.39269909f, 0.00010017f},   // x=5.10518837
    {5.10498810f, 0.39269909f, 0.39259899f},   // x=5.10498810
    {5.10608816f, 0.39269909f, 0.00099996f},   // x=5.10608816
    {5.10408831f, 0.39269909f, 0.39169919f},   // x=5.10408831
    {5.11508846f, 0.39269909f, 0.01000026f},   // x=5.11508846
    {5.09508801f, 0.39269909f, 0.38269889f},   // x=5.09508801
    {5.49778748f, 0.39269909f, 0.00000018f},   // x=5.49778748
    {5.49788761f, 0.39269909f, 0.00010031f},   // x=5.49788761
    {5.49768734f, 0.39269909f, 0.39259914f},   // x=5.49768734
    {5.49878740f, 0.39269909f, 0.00100011f},   // x=5.49878740
    {5.49678755f, 0.39269909f, 0.39169934f},   // x=5.49678755
    {5.50778770f, 0.39269909f, 0.01000041f},   // x=5.50778770
    {5.48778725f, 0.39269909f, 0.38269904f},   // x=5.48778725
    {5.89048624f, 0.39269909f, 0.39269894f},   // x=5.89048624
    {5.89058638f, 0.39269909f, 0.00009999f},   // x=5.89058638
    {5.89038610f, 0.39269909f, 0.39259881f},   // x=5.89038610
    {5.89148617f, 0.39269909f, 0.00099978f},   // x=5.89148617
    {5.88948631f, 0.39269909f, 0.39169902f},   // x=5.88948631
    {5.90048647f, 0.39269909f, 0.01000008f},   // x=5.90048647
    {5.88048601f, 0.39269909f, 0.38269871f},   // x=5.88048601
    {6.28318548f, 0.39269909f, 0.00000000f},   // x=6.28318548
    {6.28328562f, 0.39269909f, 0.00010014f},   // x=6.28328562
    {6.28308535f, 0.39269909f, 0.39259896f},   // x=6.28308535
    {6.28418541f, 0.39269909f, 0.00099993f},   // x=6.28418541
    {6.28218555f, 0.39269909f, 0.39169917f},   // x=6.28218555
    {6.29318571f, 0.39269909f, 0.01000023f},   // x=6.29318571
    {6.27318525f, 0.39269909f, 0.38269886f},   // x=6.27318525
    {-5.69413662f, 0.39269909f, -0.19634932f}, // x=-5.69413662
    {-5.30143785f, 0.39269909f, -0.19634965f}, // x=-5.30143785
    {-4.90873861f, 0.39269909f, -0.19634950f}, // x=-4.90873861
    {-4.51603937f, 0.39269909f, -0.19634935f}, // x=-4.51603937
    {-4.12334061f, 0.39269909f, -0.19634968f}, // x=-4.12334061
    {-3.73064137f, 0.39269909f, -0.19634953f}, // x=-3.73064137
    {-3.33794236f, 0.39269909f, -0.19634962f}, // x=-3.33794236
    {-2.94524312f, 0.39269909f, -0.19634947f}, // x=-2.94524312
    {-2.55254412f, 0.39269909f, -0.19634956f}, // x=-2.55254412
    {-2.15984511f, 0.39269909f, -0.19634965f}, // x=-2.15984511
    {-1.76714587f, 0.39269909f, -0.19634950f}, // x=-1.76714587
    {-1.37444687f, 0.39269909f, -0.19634959f}, // x=-1.37444687
    {-0.98174775f, 0.39269909f, -0.19634956f}, // x=-0.98174775
    {-0.58904862f, 0.39269909f, -0.19634953f}, // x=-0.58904862
    {-0.19634955f, 0.39269909f, -0.19634955f}, // x=-0.19634955
    {0.19634955f, 0.39269909f, 0.19634955f},   // x=0.19634955
    {0.58904862f, 0.39269909f, 0.19634953f},   // x=0.58904862
    {0.98174775f, 0.39269909f, 0.19634956f},   // x=0.98174775
    {1.37444687f, 0.39269909f, 0.19634959f},   // x=1.37444687
    {1.76714587f, 0.39269909f, 0.19634950f},   // x=1.76714587
    {2.15984511f, 0.39269909f, 0.19634965f},   // x=2.15984511
    {2.55254412f, 0.39269909f, 0.19634956f},   // x=2.55254412
    {2.94524312f, 0.39269909f, 0.19634947f},   // x=2.94524312
    {3.33794236f, 0.39269909f, 0.19634962f},   // x=3.33794236
    {3.73064137f, 0.39269909f, 0.19634953f},   // x=3.73064137
    {4.12334061f, 0.39269909f, 0.19634968f},   // x=4.12334061
    {4.51603937f, 0.39269909f, 0.19634935f},   // x=4.51603937
    {4.90873861f, 0.39269909f, 0.19634950f},   // x=4.90873861
    {5.30143785f, 0.39269909f, 0.19634965f},   // x=5.30143785
    {5.69413662f, 0.39269909f, 0.19634932f},   // x=5.69413662
    {6.08683586f, 0.39269909f, 0.19634947f},   // x=6.08683586
    {0.00000000f, 0.39269909f, 0.00000000f},   // x=0.00000000
    {1.00000000f, 0.39269909f, 0.21460181f},   // x=1.00000000
    {-1.00000000f, 0.39269909f, -0.21460181f}, // x=-1.00000000
    {3.14159274f, 0.39269909f, 0.00000000f},   // x=3.14159274
    {-3.14159274f, 0.39269909f, -0.00000000f}, // x=-3.14159274
    {6.28318548f, 0.39269909f, 0.00000000f},   // x=6.28318548
    {-6.28318548f, 0.39269909f, -0.00000000f}, // x=-6.28318548
    {0.00000100f, 0.39269909f, 0.00000100f},   // x=0.00000100
    {-0.00000100f, 0.39269909f, -0.00000100f}, // x=-0.00000100

    {1.00000000f, 0.39269909f, 0.21460181f},     // x=1.0
    {-1.00000000f, 0.39269909f, -0.21460181f},   // x=-1.0
    {10.00000000f, 0.39269909f, 0.18252268f},    // x=10.0
    {-10.00000000f, 0.39269909f, -0.18252268f},  // x=-10.0
    {100.00000000f, 0.39269909f, 0.25443047f},   // x=100.0
    {-100.00000000f, 0.39269909f, -0.25443047f}, // x=-100.0

#if 0
    // 32-bit float may cause significant rounding errors.
    // Double precision is required for higher accuracy.
    { 1000.00000000f, 0.39269909f, 0.18811017f }, // x=1000.0
    { -1000.00000000f, 0.39269909f, -0.18811017f }, // x=-1000.0
    { 10000.00000000f, 0.39269909f, 0.31030536f }, // x=10000.0
    { -10000.00000000f, 0.39269909f, -0.31030536f }, // x=-10000.0
    { 1000000.00000000f, 0.39269909f, 0.00730738f }, // x=1000000.0
    { -1000000.00000000f, 0.39269909f, -0.00730738f }, // x=-1000000.0
    { 10000000.00000000f, 0.39269909f, 0.07307380f }, // x=10000000.0
    { -10000000.00000000f, 0.39269909f, -0.07307380f }, // x=-10000000.0
    { 100000000.00000000f, 0.39269909f, 0.33803895f }, // x=100000000.0
    { -100000000.00000000f, 0.39269909f, -0.33803895f }, // x=-100000000.0
    { 1000000000.00000000f, 0.39269909f, 0.23879677f }, // x=1000000000.0
    { -1000000000.00000000f, 0.39269909f, -0.23879677f }, // x=-1000000000.0
#endif

    {8.76044369f, 0.39269909f, 0.12106365f},    // x=8.76044369
    {-29.84445381f, 0.39269909f, -0.39202186f}, // x=-29.84445381
    {-14.13532448f, 0.39269909f, -0.39085624f}, // x=-14.13532448
    {-17.39118195f, 0.39269909f, -0.11242187f}, // x=-17.39118195
    {14.85792446f, 0.39269909f, 0.32805803f},   // x=14.85792446
    {11.10235596f, 0.39269909f, 0.10678136f},   // x=11.10235596
    {24.64136887f, 0.39269909f, 0.29402512f},   // x=24.64136887
    {-25.95339775f, 0.39269909f, -0.03525764f}, // x=-25.95339775
    {-4.90579653f, 0.39269909f, -0.19340742f},  // x=-4.90579653
    {-29.54371262f, 0.39269909f, -0.09128067f}, // x=-29.54371262
    {-17.67849731f, 0.39269909f, -0.00703815f}, // x=-17.67849731
    {0.33648267f, 0.39269909f, 0.33648267f},    // x=0.33648267
    {-29.74862289f, 0.39269909f, -0.29619095f}, // x=-29.74862289
    {-18.92258835f, 0.39269909f, -0.07303190f}, // x=-18.92258835
    {9.41751671f, 0.39269909f, 0.38543758f},    // x=9.41751671
    {2.82375646f, 0.39269909f, 0.07486281f},    // x=2.82375646
    {-17.56523323f, 0.39269909f, -0.28647316f}, // x=-17.56523323
    {5.60872841f, 0.39269909f, 0.11094111f},    // x=5.60872841
    {19.44208908f, 0.39269909f, 0.19983354f},   // x=19.44208908
    {-31.00759697f, 0.39269909f, -0.37706774f}, // x=-31.00759697
    {19.21519089f, 0.39269909f, 0.36563444f},   // x=19.21519089
    {12.44946575f, 0.39269909f, 0.27579388f},   // x=12.44946575
    {-10.03735638f, 0.39269909f, -0.21987906f}, // x=-10.03735638
    {-21.64686203f, 0.39269909f, -0.04841194f}, // x=-21.64686203
    {28.72754478f, 0.39269909f, 0.06051102f},   // x=28.72754478
    {-10.26706791f, 0.39269909f, -0.05689150f}, // x=-10.26706791
    {-25.58853340f, 0.39269909f, -0.06309238f}, // x=-25.58853340
    {-25.33905792f, 0.39269909f, -0.20631599f}, // x=-25.33905792
    {21.83371544f, 0.39269909f, 0.23526534f},   // x=21.83371544
    {6.51729870f, 0.39269909f, 0.23411322f},    // x=6.51729870
    {19.29743767f, 0.39269909f, 0.05518213f},   // x=19.29743767
    {14.43447399f, 0.39269909f, 0.29730666f},   // x=14.43447399
    {2.27627802f, 0.39269909f, 0.31278256f},    // x=2.27627802
    {29.72673988f, 0.39269909f, 0.27430794f},   // x=29.72673988
    {-7.63191032f, 0.39269909f, -0.17062756f},  // x=-7.63191032
    {3.26980925f, 0.39269909f, 0.12821651f},    // x=3.26980925
    {20.69710541f, 0.39269909f, 0.27675259f},   // x=20.69710541
    {7.44681549f, 0.39269909f, 0.37823182f},    // x=7.44681549
    {22.72671509f, 0.39269909f, 0.34286681f},   // x=22.72671509
    {4.86017847f, 0.39269909f, 0.14778936f},    // x=4.86017847
    {12.85362720f, 0.39269909f, 0.28725624f},   // x=12.85362720
    {-28.53669548f, 0.39269909f, -0.26236081f}, // x=-28.53669548
    {-17.09665489f, 0.39269909f, -0.21059391f}, // x=-17.09665489
    {-13.23314476f, 0.39269909f, -0.27407470f}, // x=-13.23314476
    {-26.40244865f, 0.39269909f, -0.09160945f}, // x=-26.40244865
    {-16.78924370f, 0.39269909f, -0.29588181f}, // x=-16.78924370
    {-25.06982040f, 0.39269909f, -0.32977757f}, // x=-25.06982040
    {-13.95032978f, 0.39269909f, -0.20586154f}, // x=-13.95032978
    {8.52530479f, 0.39269909f, 0.27862385f},    // x=8.52530479
    {-8.49284458f, 0.39269909f, -0.24616364f},  // x=-8.49284458

};

// Test runner function
int run_tests(const TestCase *tests, int count)
{
  int fail = 0;

  for (int i = 0; i < count; ++i) {
    float x = tests[i].input;
    float mod_base = tests[i].mod_base;
    float expected = tests[i].expected;
    //      float result = fmodf_custom(x, mod_base);
    float result = fmodf(x, mod_base);
    float error = fabsf(result - expected);
    printf("fmodf(%.8f,%.8f) → %.8f, expected: %.8f [%s]\n", x, mod_base,
           result, expected, (error <= EPSILON ? "PASS" : "FAIL"));
    if (error>EPSILON)
      fail++;
  }
  printf("\n");

  return fail;
}

int main(void)
{
  int count = sizeof(tests) / sizeof(TestCase);

  return run_tests(tests, count)>0;
}
