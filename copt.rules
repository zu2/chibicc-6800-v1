#
#	jmp & bra
#

	jmp %1
%1:
=
%1:


	jmp %1
%2:
%1:
=
%2:
%1:


	jmp %1
%3:
%2:
%1:
=
%3:
%2:
%1:


	jmp %1
	jmp %2
=
	jmp %1

#
#	case
#

	jeq %1
	jmp %2
%1:
=
	jne %2
%1:


	jne %1
	jmp %2
%1:
=
	jeq %2
%1:


#
#
#

	bra %1
%1:
=
%1:


	bra %2
%1:
%2:
=
%1:
%2:


	bra %1
	bra %2
=
	bra %1

#
#
#

	stab %2
	staa %1
	ldab %2
	ldaa %1
=
	stab %2
	staa %1

	stab %1
	ldab %1
=
	stab %1

	stab %2,x
	staa %1,x
	ldab %2,x
	ldaa %1,x
=
	stab %2,x
	staa %1,x

	ldab %2,x
	ldaa %1,x
	pshb
	psha
	ldab %2,x
	ldaa %1,x
=
	ldab %2,x
	ldaa %1,x
	pshb
	psha

#
#
#

	ldx #%1
	ldx 0,x
=
	ldx %1

#
#
#

	clra
	clra
=
	clra


	ldab %1
	tstb
=
	ldab %1


	stab %1
	tstb
=
	stab %1

	ldaa %1
	tsta
=
	ldaa %1

	staa %1
	tsta
=
	staa %1

	anda %1
	tsta
=
	anda %1

	oraa %1
	tsta
=
	oraa %1

	eora %1
	tsta
=
	eora %1

	jsr __load8u
	tstb
=
	jsr __load8u


	stab %1
	clra
	tstb
=
	clra
	stab %1


	incb
	clra
	tstb
=
	clra
	incb


	clra
	aba
	adca #0
=
	tstb


	addb #<%1
	adca #>%1
	addb #<%2
	adca #>%2
=
	addb #<%1+%2
	adca #>%1+%2


	ldab #<%1
	ldaa #>%1
	addb #<%2
	adca #>%2
=
	ldab #<%1+%2
	ldaa #>%1+%2


	ldab #<%1
	ldaa #>%1
	jsr __load16
=
	ldab %1+1
	ldaa %1


	ldab #<%1
	ldaa #>%1
	stab @tmp1+1
	staa @tmp1
	ldx @tmp1
=
	ldx #%1

# long

	jsr __u16to32
	ldab @long+3
	pshb
	ldab @long+2
	pshb
	ldab @long+1
	pshb
	ldab @long
	pshb
=
	pshb
	psha
	clrb
	pshb
	pshb


	ldab %4,x
	stab @long+3
	ldab %3,x
	stab @long+2
	ldab %2,x
	stab @long+1
	ldab %1,x
	stab @long
	ldab @long+3
	pshb
	ldab @long+2
	pshb
	ldab @long+1
	pshb
	ldab @long
	pshb
=
	ldab %4,x
	pshb
	ldab %3,x
	pshb
	ldab %2,x
	pshb
	ldab %1,x
	pshb


	ldx #%1
	stx @long+2
	ldx #%2
	stx @long
	ldx #%3
	ldab @long+3
	stab 3,x
	ldab @long+2
	stab 2,x
	ldab @long+1
	stab 1,x
	ldab @long
	stab 0,x
=
	ldx #%3
	ldab #<%1
	ldaa #>%1
	stab 3,x
	staa 2,x
	ldab #<%2
	ldaa #>%2
	stab 1,x
	staa 0,x

	ldab @bp+1
	ldaa @bp
	pshb
	psha
	ldab %4,x
	ldaa %3,x
	aslb
	rola
	tsx
	addb 1,x
	adca 0,x
	ins
	ins
=
	ldab %4,x
	ldaa %3,x
	aslb
	rola
	addb @bp+1
	adca @bp


	stab %2,x
	staa %1,x
	ldab %2,x
	ldaa %1,x
=
	stab %2,x
	staa %1,x


	ldab %2,x
	ldaa %1,x
	jsr __tfr_dx
=
	ldx %1,x


	stab %2,x
	staa %1,x
	jsr __tfr_dx
=
	stab %2,x
	staa %1,x
	ldx %1,x


	ldab %2,x
	ldaa %1,x
	stab @tmp1+1
	staa @tmp1
	ldx @tmp1
=
	ldx %1,x


	stab %2,x
	staa %1,x
	stab @tmp1+1
	staa @tmp1
	ldx @tmp1
=
	stab %2,x
	staa %1,x
	ldx %1,x

#
#	-Os fusion
#

	jsr __load32x
	jsr __addf32tos
=
	jsr __load32x_addf

	jsr __load32x
	jsr __subf32tos
=
	jsr __load32x_subf

	jsr __load32x
	jsr __mulf32tos
=
	jsr __load32x_mulf

	jsr __load32x
	jsr __divf32tos
=
	jsr __load32x_divf

	jsr __load32x
	jsr __cmpf32tos
=
	jsr __load32x_cmpf

	jsr __store32x
	jsr __load32x
=
	jsr __store32x

	XXX
	jsr __load32x
	jsr __push32
=
	jsr __load32x_push


	XXX
	jsr __load32bx
	jsr __push32
=
	jsr __load32bx_push

	ldx #%1
	jsr __store32x
	ldx #%1
	jsr __load32x
=
	ldx #%1
	jsr __store32x

	jsr __push32
	tsx
	ldx 4,x
	jsr __load32x
	jsr __%1tos
=
	tsx
	ldx 0,x
	jsr __%1x

	jsr __push32
	ldx %1
	jsr __load32x
	jsr __%2tos
=
	ldx %1
	jsr __%2x

	ldx %1
	jsr __xor32x
	ldx %1
=
	ldx %1
	jsr __xor32x

	ldx %1
	jsr __xor32x
	jsr __store32x
	ldx %1
=
	ldx %1
	jsr __xor32x
	jsr __store32x

	ldab #<%1
	ldaa #>%1
	jsr __load16
=
	ldab %1+1
	ldaa %1


#
#	branch condition
#

	clra
	andb %1
	aba
	adca #0
=
	andb %1


	jsr __ge16s
	aba
	adca #0
	jeq %1
=
	jsr __ge16s
	jeq %1


	jsr __lt16s	// XXX
	aba
	adca #0
	jeq %1
=
	jsr __lt16s
	jeq %1


	jsr __eq16
	aba
	adca #0
	jne %1
=
	jsr __eq16
	jne %1


	jsr __eq16
	aba
	adca #0
	jeq %1
=
	jsr __eq16
	jeq %1


	jsr __ne16
	aba
	adca #0
	jeq %1
=
	jsr __ne16
	jeq %1


	clrb
	clra
	jmp %1
	clrb
	clra
%1:
=
	clrb
	clra
%1:

#
# post inc/dec
#

	stab %1+1
	staa %1
	subb #<1
	sbca #>1
	stab @tmp1+1
	staa @tmp1
	ldx @tmp1
=
	stab %1+1
	staa %1
	ldx %1
	dex

	stab %2,x
	staa %1,x
	subb #<1
	sbca #>1
	stab @tmp1+1
	staa @tmp1
	ldx @tmp1
=
	stab %2,x
	staa %1,x
	ldx %1,x
	dex

	ldab %2,x
	ldaa %1,x
	addb #<1
	adca #>1
	stab %2,x
	staa %1,x
	subb #<1
	sbca #>1
	jsr __load8u
=
	inc %2,x
	bne INC%M
	inc %1,x
INC%M:
	ldx %1,x
	dex
	clra
	ldab 0,x

	ldab %2,x
	ldaa %1,x
	addb #<1
	adca #>1
	stab %2,x
	staa %1,x
	ldx %1,x
	dex
	clra
	ldab 0,x
=
	inc %2,x
	bne INC%M
	inc %1,x
INC%M:
	ldx %1,x
	dex
	clra
	ldab 0,x

	stab %2,x
	staa %1,x
	subb #<1
	sbca #>1
	jsr __load8u
=
	stab %2,x
	staa %1,x
	ldx %1,x
	dex
	ldab 0,x

	stab %2,x
	staa %1,x
	subb #<1
	sbca #>1
	jsr __tfr_dx
=
	stab %2,x
	staa %1,x
	ldx %1,x
	dex

	stab %2,x
	staa %1,x
	addb #<1
	adca #>1
	jsr __load8u
=
	stab %2,x
	staa %1,x
	ldx %1,x
	inx
	ldab 0,x


	stab %1+1
	staa %1
	subb #<1
	sbca #>1
	stab @tmp1+1
	staa @tmp1
	ldx @tmp1
=
	stab %1+1
	staa %1
	ldx %1
	inx


	stab %2,x
	staa %1,x
	addb #<1
	adca #>1
	jsr __tfr_dx
=
	stab %2,x
	staa %1,x
	ldx %1,x
	inx



	stab %2,x
	staa %1,x
	addb #<1
	adca #>1
	stab @tmp1+1
	staa @tmp1
	ldx @tmp1
=
	stab %2,x
	staa %1,x
	ldx %1,x
	inx


	stab %2,x
	staa %1,x
	jsr __load16
= 
	stab %2,x
	staa %1,x
	ldx %1,x


	clra
	ldab %1,x
	clra
=
	ldab %1,x
	clra

	ins
	ins
	ins
	ins
	ins
	ins
	ins
	ins
	jsr __popx
	stx @bp
	rts
=
	jmp __ins8_popx_stxbp

	ins
	ins
	ins
	ins
	ins
	ins
	ins
	jsr __popx
	stx @bp
	rts
=
	jmp __ins7_popx_stxbp

	ins
	ins
	ins
	ins
	ins
	ins
	jsr __popx
	stx @bp
	rts
=
	jmp __ins6_popx_stxbp

	ins
	ins
	ins
	ins
	ins
	jsr __popx
	stx @bp
	rts
=
	jmp __ins5_popx_stxbp

	ins
	ins
	ins
	ins
	jsr __popx
	stx @bp
	rts
=
	jmp __ins4_popx_stxbp

	ins
	ins
	ins
	jsr __popx
	stx @bp
	rts
=
	jmp __ins3_popx_stxbp

	ins
	ins
	jsr __popx
	stx @bp
	rts
=
	jmp __ins2_popx_stxbp

	ins
	jsr __popx
	stx @bp
	rts
=
	jmp __ins1_popx_stxbp

	jsr __popx
	stx @bp
	rts
=
	jmp __popx_stxbp

	andb %1
	tstb
=
	andb %1

	incb
	tstb
=
	incb


	ldab %2
	ldaa %1
	addb %2
	adca %1
=
	ldab %2
	ldaa %1
	aslb
	rola

# sign extend by excess 128

	clra
	asrb
	rolb
	sbca #0
	addb #<%1
	adca #>%2
=
	clra
	eorb #$80
	addb #<%1+$ff80
	adca #>%2+$ff80

# sign extend by excess 127

	clra
	asrb
	rolb
	sbca #0
	nega
	negb
	sbca #0
=
	clra
	eorb #$7f
	addb #<$ff81
	adca #>$ff81

#
#
#
	andb %2
	anda %1
	tstb
=
	anda %1
	andb %2

	clra
	ldab %1,x
	anda #0
=
	clra
	ldab %1,x

	ora #0
	stab %1
=
	stab %1

	jsr __eq%1
	aba
	adca #0
=
	jsr __eq%1

	jsr __ne%1
	aba
	adca #0
=
	jsr __ne%1

	jsr __gt%1
	aba
	adca #0
=
	jsr __gt%1

	jsr __ge%1
	aba
	adca #0
=
	jsr __ge%1

	jsr __lt%1
	aba
	adca #0
=
	jsr __lt%1

	jsr __le%1
	aba
	adca #0
=
	jsr __le%1

#

	ldab #<%1
	ldaa #>%1
	jsr __load8u
	jne %2
=
	ldab %1
	jne %2

	ldab #<%1
	ldaa #>%1
	jsr __load8u
=
	clra
	ldab %1

	ldab %2,x
	ldaa %1,x
	jsr __load8u
=
	ldx %1,x
	clra
	ldab 0,x


	jsr __load16
	stab @tmp1+1
	staa @tmp1
	ldx @tmp1
	jsr 0,x
=
	stab @tmp1+1
	staa @tmp1
	ldx @tmp1
	ldx 0,x
	jsr 0,x

	clra
	ldab %1,x
	clra
=
	clra
	ldab %1,x
